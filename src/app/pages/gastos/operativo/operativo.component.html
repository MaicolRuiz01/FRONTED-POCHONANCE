<div class="grid">
  <div class="col-12">
    <!-- Tarjeta para la tabla Operativo -->
    <div class="card px-6 py-6">
      <p-table #dt [value]="products" [paginator]="true" [rows]="10" [rowsPerPageOptions]="[10,20,30]"
               [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
        <ng-template pTemplate="caption">
          <!-- Contenedor para título y filtro de fecha -->
          <div class="flex flex-column md:flex-row md:justify-content-between md:align-items-center">
            <h5 class="m-0">Operativo</h5>
            <span class="block mt-2 md:mt-0 p-input-icon-left">
              <i class="pi pi-calendar"></i>
              <input pInputText type="date" (input)="onDateFilter(dt, $event)" placeholder="Filter by date..." class="w-full sm:w-auto"/>
            </span>
          </div>
          <!-- Contenedor separado para el botón New, con estilo diferenciado utilizando clases de PrimeNG -->
        <div class="mt-2 flex justify-content-end p-shadow-2" style="background-color: #f8f9fa; padding: 10px; border-radius: 5px;">
          <button pButton pRipple label="New" icon="pi pi-plus" class="p-button-success" (click)="openNew()"></button>
        </div>

        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="date">Fecha <p-sortIcon field="date"></p-sortIcon></th>
            <th pSortableColumn="description">Descripción <p-sortIcon field="description"></p-sortIcon></th>
            <th pSortableColumn="cost">Costo <p-sortIcon field="cost"></p-sortIcon></th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
          <tr>
            <td>{{ product.date | date:'mediumDate' }}</td>
            <td>{{ product.description }}</td>
            <td>{{ product.cost | currency:'USD' }}</td>
            <td>
              <button type="button" pButton label="Pagar" (click)="pay(product)" class="p-button-success"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>


    <!-- Tarjeta para la tabla Pagado -->
    <div class="card px-6 py-6 mt-4"> <!-- Añadido un margen superior para separar visualmente las tarjetas -->
      <p-table #dtPaid [value]="paidProducts" [paginator]="true" [rows]="10" [rowsPerPageOptions]="[10,20,30]"
               [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
        <ng-template pTemplate="caption">
          <div class="flex flex-column md:flex-row md:justify-content-between md:align-items-center">
            <h5 class="m-0">Pagado</h5>
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="paymentDate">Fecha de Pago <p-sortIcon field="paymentDate"></p-sortIcon></th>
            <th pSortableColumn="description">Descripción <p-sortIcon field="description"></p-sortIcon></th>
            <th pSortableColumn="amount">Monto <p-sortIcon field="amount"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-paidProduct>
          <tr>
            <td>{{ paidProduct.paymentDate | date:'mediumDate' }}</td>
            <td>{{ paidProduct.description }}</td>
            <td>{{ paidProduct.amount | currency:'USD' }}</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
